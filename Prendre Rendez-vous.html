<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prendre Rendez-vous</title>
    <link rel="stylesheet" href="styles/prendre-rendez-vous.css">
</head>
<body>
    <div class="main-container">
        <!-- Left Panel -->
        <div class="left-panel">
            <button class="action-btn">Choisir le M√©decin</button>
            <button class="action-btn">Consulter Mon Carnet de Sant√©</button>
            <button class="action-btn">Informations du Rendez-vous</button>
            <!--<button class="action-btn">Valider le Rendez-vous</button>  -->

            <!-- Modal Structure inside Left Panel -->
            <div id="modal" class="modal">
                <fieldset class="modal-fieldset">
                    <legend id="modal-title" class="modal-legend">Titre</legend>
                    <div class="modal-content">
                        <p id="modal-text">Contenu du pop-up...</p>
                    </div>
                </fieldset>
            </div>
        </div>

        <div class="vertical-separator"></div>

        <!-- Right Panel -->
        <div class="right-panel">
            <div class="date-selector">
                <input type="text" class="date-input" placeholder="HH:MM" value="HH:MM">
                <input type="text" class="date-input" placeholder="DD / MM / YYYY" value="DD / MM / YYYY">
                <span class="calendar-icon">üìÖ</span>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <span>‚óÑ</span>
                    <span>NOVEMBER 2025</span>
                    <span>‚ñ∫</span>
                </div>
                <div class="calendar-grid">
                    <div class="day-name">S</div>
                    <div class="day-name">M</div>
                    <div class="day-name">T</div>
                    <div class="day-name">W</div>
                    <div class="day-name">T</div>
                    <div class="day-name">F</div>
                    <div class="day-name">S</div>

                    <!-- Week 1 -->
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">30</span></div>
                    <div class="calendar-cell"><span class="date-number">1</span></div>
                    <div class="calendar-cell"><span class="date-number">2</span></div>
                    <div class="calendar-cell"><span class="date-number">3</span></div>
                    <div class="calendar-cell"><span class="date-number selected-date">4</span></div>
                    <div class="calendar-cell"><span class="date-number">5</span></div>
                    <div class="calendar-cell"><span class="date-number">6</span></div>

                    <!-- Week 2 -->
                    <div class="calendar-cell"><span class="date-number">7</span></div>
                    <div class="calendar-cell"><span class="date-number">8</span></div>
                    <div class="calendar-cell"><span class="date-number">9</span></div>
                    <div class="calendar-cell"><span class="date-number">10</span></div>
                    <div class="calendar-cell"><span class="date-number">11</span></div>
                    <div class="calendar-cell"><span class="date-number">12</span></div>
                    <div class="calendar-cell"><span class="date-number">13</span></div>

                    <!-- Week 3 -->
                    <div class="calendar-cell"><span class="date-number">14</span></div>
                    <div class="calendar-cell"><span class="date-number">15</span></div>
                    <div class="calendar-cell"><span class="date-number">16</span></div>
                    <div class="calendar-cell"><span class="date-number">17</span></div>
                    <div class="calendar-cell"><span class="date-number">18</span></div>
                    <div class="calendar-cell"><span class="date-number">19</span></div>
                    <div class="calendar-cell"><span class="date-number">20</span></div>

                    <!-- Week 4 -->
                    <div class="calendar-cell"><span class="date-number">21</span></div>
                    <div class="calendar-cell"><span class="date-number">22</span></div>
                    <div class="calendar-cell"><span class="date-number">23</span></div>
                    <div class="calendar-cell"><span class="date-number">24</span></div>
                    <div class="calendar-cell"><span class="date-number">25</span></div>
                    <div class="calendar-cell"><span class="date-number">26</span></div>
                    <div class="calendar-cell"><span class="date-number">27</span></div>

                    <!-- Week 5 -->
                    <div class="calendar-cell"><span class="date-number">28</span></div>
                    <div class="calendar-cell"><span class="date-number">29</span></div>
                    <div class="calendar-cell"><span class="date-number">30</span></div>
                    <div class="calendar-cell"><span class="date-number">31</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">1</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">2</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">3</span></div>
                    
                    <!-- Week 6 -->
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">4</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">5</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">6</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">7</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">8</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">9</span></div>
                    <div class="calendar-cell"><span class="date-number" style="color: #ccc;">10</span></div>
                </div>
            </div>
            <div class="confirm-container">
                <button class="confirm-btn">Confirmer</button>
            </div>
        </div>
    </div>

    <!-- Templates for Modal Content (Hidden) -->
    <div id="template-choisir-medecin" style="display: none;">
        <div class="filter-container">
            <select class="doctor-select">
                <option>Choisir</option>
                <option>M√©decin g√©n√©raliste</option>
                <option>Kin√©</option>
                <option>Dentiste</option>
            </select>
        </div>
        <div class="doctor-list">
            <div class="doctor-card" onclick="selectDoctor(this, 'Docteur Martin', 'Rue des Lilas, 64120 Bidart')">
                <div>
                    <strong>Docteur Martin</strong><br>
                    Rue des Lilas, 64120 Bidart
                </div>
            </div>
            <div class="doctor-card" onclick="selectDoctor(this, 'Docteur Dupont', 'Avenue de la Plage, 64120 Bidart')">
                <div>
                    <strong>Docteur Dupont</strong><br>
                    Avenue de la Plage, 64120 Bidart
                </div>
            </div>
            <div class="doctor-card" onclick="selectDoctor(this, 'Docteur Durand', 'Place de la Mairie, 64120 Bidart')">
                <div>
                    <strong>Docteur Durand</strong><br>
                    Place de la Mairie, 64120 Bidart
                </div>
            </div>
            <div class="doctor-card" onclick="selectDoctor(this, 'Docteur Leroy', 'Boulevard des Pyr√©n√©es, 64120 Bidart')">
                <div>
                    <strong>Docteur Leroy</strong><br>
                    Boulevard des Pyr√©n√©es, 64120 Bidart
                </div>
            </div>
        </div>
    </div>

    <div id="template-info-rdv" style="display: none;">
        <div class="info-rdv-content">
            <span class="info-rdv-title">Rendez-vous:</span>
            
            <p>
                <strong><span id="info-doc-name">Docteur ...</span></strong><br>
                <span id="info-doc-address">Rue ..., 64120 Bidart</span>
            </p>
            
            <p>
                Le <span id="info-date">DD/MM/YYYY</span><br>
                A <span id="info-time">HH:MN</span>
            </p>
            
            <br>
            <p>
                Merci d'arriver 15 minutes avant votre rendez-vous afin de vous pr√©senter √† l'accueil.
            </p>
        </div>
    </div>

    <script>
        // Get the modal
        var modal = document.getElementById("modal");
        var modalTitle = document.getElementById("modal-title");
        var modalText = document.getElementById("modal-text"); // This is the container for content

        // Get the buttons that opens the modal
        var btns = document.getElementsByClassName("action-btn");

        // Get the confirm button
        var confirmBtn = document.getElementsByClassName("confirm-btn")[0];

        // State for selected doctor
        var selectedDoctor = {
            name: "Docteur ...",
            address: "Rue ..., 64120 Bidart"
        };

        // Function to handle doctor selection
        function selectDoctor(element, name, address) {
            // Remove selected class from all cards
            var cards = document.getElementsByClassName("doctor-card");
            for (var i = 0; i < cards.length; i++) {
                cards[i].classList.remove("selected");
            }
            // Add selected class to clicked card
            element.classList.add("selected");
            
            // Update state
            selectedDoctor.name = name;
            selectedDoctor.address = address;
        }

        // Loop through buttons to add click event
        for (var i = 0; i < btns.length; i++) {
            btns[i].onclick = function() {
                modal.style.display = "block";
                // Remove the arrow character for the title
                var text = this.innerText.replace('‚ñº', '').trim();
                modalTitle.innerText = text;

                // Clear previous content
                modalText.innerHTML = "";

                if (text === "Choisir le M√©decin") {
                    var template = document.getElementById("template-choisir-medecin").innerHTML;
                    modalText.innerHTML = template;
                    
                    // Re-apply selection visual if a doctor is already selected
                    if (selectedDoctor.name !== "Docteur ...") {
                        // This is a simple check, in a real app we'd use IDs
                        var cards = modalText.getElementsByClassName("doctor-card");
                        for (var j = 0; j < cards.length; j++) {
                            if (cards[j].innerText.includes(selectedDoctor.name)) {
                                cards[j].classList.add("selected");
                            }
                        }
                    }

                } else if (text === "Informations du Rendez-vous") {
                    var template = document.getElementById("template-info-rdv").innerHTML;
                    modalText.innerHTML = template;
                    
                    // Update info with selected doctor
                    document.getElementById("info-doc-name").innerText = selectedDoctor.name;
                    document.getElementById("info-doc-address").innerText = selectedDoctor.address;
                    
                    // Here we could also update date/time if we had logic for that
                } else {
                    modalText.innerText = "D√©tails pour : " + text;
                }
            }
        }
        
        // When the user clicks on confirm, close the modal
        confirmBtn.onclick = function() {
            modal.style.display = "none";
        }
    </script>
</body>
</html>